(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{4884:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/friends",function(){return n(4453)}])},4453:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return S}});var i=n(5893),t=n(7667),r=n.n(t),o=n(5529),l=n(2483),a=n(5308),d=n(7205),h=n(1461),c=n(4425),u=n(3290),x=n(7011),f=n(9118),g=n(2962),p=n(7068),m=n(6304),j=n(9902);let b=e=>{let{name:s,link:n,logo:t,slogan:r="",...o}=e;return(0,i.jsxs)(l.Z,{display:"flex",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,maxHeight:"64px",overflow:"hidden",...o,children:[(0,i.jsx)(l.Z,{flexBasis:"auto",flexShrink:0,flexGrow:0,height:"64px",width:"64px",overflow:"hidden",children:(0,i.jsx)("img",{loading:"lazy",decoding:"async",width:64,height:64,style:{objectFit:"cover"},src:new URL(t,"https://sb.cdn.baoshuo.ren/friends/img/").toString(),alt:s})}),(0,i.jsxs)(l.Z,{padding:2,overflow:"hidden",children:[(0,i.jsx)(u.Z,{href:n,target:"_blank",sx:{fontWeight:"bold"},children:s}),r&&(0,i.jsx)(j.Z,{as:"p",title:r,sx:{fontSize:1,marginTop:1,marginBottom:0,color:"fg.muted",width:"100%",maxWidth:"100%"},children:r})]})]})};var Z=(0,t.memo)(b),w=n(4121);let y=()=>(0,i.jsxs)(l.Z,{height:400,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{gap:2},children:[(0,i.jsx)(w.Z,{size:"large"}),(0,i.jsx)(x.Z,{as:"div",children:"Loading..."})]});var k=(0,t.memo)(y),_=n(314);let v=e=>fetch("https://friends.baoshuo.ren/links.json").then(e=>e.json()),C=()=>{let{result:e}=(0,m.ib)(v);return(0,i.jsx)(l.Z,{display:"grid",gridGap:3,sx:{gridTemplateColumns:[,,"1fr 1fr"]},children:e.map(e=>(0,i.jsx)(Z,{...e},e.name))})},F=()=>{let[e,s]=(0,t.useState)(!1),[n,j]=(0,t.useState)(!1),b=r().useCallback(()=>s(!0),[s]),Z=r().useCallback(()=>s(!1),[s]);return(0,t.useEffect)(()=>{j(!0)},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.PB,{title:"Friends",description:"Friends of Baoshuo."}),(0,i.jsxs)(l.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsx)(a.Z,{as:"h1",sx:{marginBottom:3,..._.Z.style,fontWeight:700},children:"Friends"}),(0,i.jsx)(d.z,{leadingIcon:o.pOD,size:"small",onClick:b,children:"Add Your Site"})]}),n?(0,i.jsx)(m.c6,{initialInputs:[[v,"1"]],children:(0,i.jsx)(p.SV,{fallback:(0,i.jsxs)(h.Z,{variant:"danger",children:[(0,i.jsx)(c.Z,{icon:o.b0D,size:18}),"Error when loading friend links, please"," ",(0,i.jsx)(u.Z,{as:"button",onClick:()=>window.location.reload(),children:"refresh"})," ","and try again."]}),children:(0,i.jsx)(t.Suspense,{fallback:(0,i.jsx)(k,{}),children:(0,i.jsx)(C,{})})})}):(0,i.jsx)(k,{}),e&&(0,i.jsxs)(f.V,{title:(0,i.jsx)(x.Z,{as:"span",sx:{fontSize:2,..._.Z.style},children:"Add your site to this page"}),onClose:Z,children:[(0,i.jsxs)(x.Z,{as:"p",sx:{marginTop:0,marginBottom:2},children:["Before adding your site to this page, please read the requirements at"," ",(0,i.jsx)(u.Z,{href:"https://github.com/renbaoshuo/Friends",target:"_blank",children:"renbaoshuo/Friends"})," ","first."]}),(0,i.jsx)(x.Z,{as:"p",sx:{marginTop:0,marginBottom:3},children:"If your site meets every requirement, you can submit your site's info following the provided steps!"}),(0,i.jsx)(d.z,{as:u.Z,href:"https://github.com/renbaoshuo/Friends",target:"_blank",block:!0,leadingIcon:o.g_Y,children:"renbaoshuo/Friends"})]}),(0,i.jsx)(g.VL,{id:"https://baoshuo.ren/friends/",description:"Friends of Baoshuo."})]})};var S=(0,t.memo)(F)}},function(e){e.O(0,[774,248,457,888,179],function(){return e(e.s=4884)}),_N_E=e.O()}]);