(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{4884:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/friends",function(){return i(4453)}])},4453:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return _}});var n=i(5893),r=i(7667),t=i(5529),o=i(2483),l=i(5486),d=i(1461),a=i(8833),h=i(3290),c=i(7011),u=i(9480),x=i(2962),f=i(7068),g=i(6304),p=i(9902),m=(0,r.memo)(e=>{let{name:s,link:i,logo:r,slogan:t="",...l}=e;return(0,n.jsxs)(o.Z,{display:"flex",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,maxHeight:"64px",overflow:"hidden",...l,children:[(0,n.jsx)(o.Z,{flexBasis:"auto",flexShrink:0,flexGrow:0,height:"64px",width:"64px",overflow:"hidden",children:(0,n.jsx)("img",{loading:"lazy",decoding:"async",width:64,height:64,style:{objectFit:"cover"},src:new URL(r,"https://sb.cdn.baoshuo.ren/friends/img/").toString(),alt:s})}),(0,n.jsxs)(o.Z,{padding:2,overflow:"hidden",children:[(0,n.jsx)(h.Z,{href:i,target:"_blank",sx:{fontWeight:"bold"},children:s}),t&&(0,n.jsx)(p.Z,{as:"p",title:t,sx:{fontSize:1,marginTop:1,marginBottom:0,color:"fg.muted",width:"100%",maxWidth:"100%"},children:t})]})]})}),j=i(329),b=i(4121),w=(0,r.memo)(()=>(0,n.jsxs)(o.Z,{height:400,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{gap:2},children:[(0,n.jsx)(b.Z,{size:"large"}),(0,n.jsx)(c.Z,{as:"div",children:"Loading..."})]})),Z=i(314);let k=e=>fetch("https://friends.baoshuo.ren/links.json").then(e=>e.json()),y=()=>{let{result:e}=(0,g.ib)(k);return(0,n.jsx)(o.Z,{display:"grid",gridGap:3,sx:{gridTemplateColumns:[,,"1fr 1fr"]},children:e.map(e=>(0,n.jsx)(m,{...e},e.name))})};var _=(0,r.memo)(()=>{let[e,s]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!1),p=(0,r.useRef)(null),m=(0,r.useCallback)(()=>s(!0),[s]),b=(0,r.useCallback)(()=>s(!1),[s]);return(0,r.useEffect)(()=>{o(!0)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x.PB,{title:"Friends",description:"Friends of Baoshuo."}),(0,n.jsxs)(j.VY,{title:"Friends",titleRef:p,magicTitle:!1,trailingAccessory:(0,n.jsx)(l.z,{leadingIcon:t.pOD,size:"small",onClick:m,children:"Add Your Site"}),children:[i?(0,n.jsx)(g.c6,{initialInputs:[[k,"1"]],children:(0,n.jsx)(f.SV,{fallback:(0,n.jsxs)(d.Z,{variant:"danger",children:[(0,n.jsx)(a.Z,{icon:t.b0D,size:18}),"Error when loading friend links, please"," ",(0,n.jsx)(h.Z,{as:"button",onClick:()=>window.location.reload(),children:"refresh"})," ","and try again."]}),children:(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(w,{}),children:(0,n.jsx)(y,{})})})}):(0,n.jsx)(w,{}),e&&(0,n.jsxs)(u.V,{title:(0,n.jsx)(c.Z,{as:"span",sx:{fontSize:2,...Z.Z.style},children:"Add your site to this page"}),onClose:b,children:[(0,n.jsxs)(c.Z,{as:"p",sx:{marginTop:0,marginBottom:2},children:["Before adding your site to this page, please read the requirements at"," ",(0,n.jsx)(h.Z,{href:"https://github.com/renbaoshuo/Friends",target:"_blank",children:"renbaoshuo/Friends"})," ","first."]}),(0,n.jsx)(c.Z,{as:"p",sx:{marginTop:0,marginBottom:3},children:"If your site meets every requirement, you can submit your site's info following the provided steps!"}),(0,n.jsx)(l.z,{as:h.Z,href:"https://github.com/renbaoshuo/Friends",target:"_blank",block:!0,leadingIcon:t.g_Y,children:"renbaoshuo/Friends"})]}),(0,n.jsx)(x.VL,{id:"https://baoshuo.ren/friends/",description:"Friends of Baoshuo."})]})]})})}},function(e){e.O(0,[774,811,888,179],function(){return e(e.s=4884)}),_N_E=e.O()}]);