(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{1461:function(e,o,t){"use strict";t.d(o,{Z:function(){return p}});var r=t(7667),n=t.n(r),a=t(9521),l=t(6678),i=t(5390),s=t(5173);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let c=(0,l.variant)({variants:{default:{color:"fg.default",backgroundColor:"accent.subtle",borderColor:"accent.muted",svg:{color:"accent.fg"}},success:{color:"fg.default",backgroundColor:"success.subtle",borderColor:"success.muted",svg:{color:"success.fg"}},danger:{color:"fg.default",backgroundColor:"danger.subtle",borderColor:"danger.muted",svg:{color:"danger.fg"}},warning:{color:"fg.default",backgroundColor:"attention.subtle",borderColor:"attention.muted",svg:{color:"attention.fg"}}}}),u=a.ZP.div.withConfig({displayName:"Flash__StyledFlash",componentId:"sc-hzrzfc-0"})(["position:relative;color:",";padding:",";border-style:solid;border-width:",";border-radius:",";margin-top:",";p:last-child{margin-bottom:0;}svg{margin-right:",";}",";",";"],(0,i.U2)("colors.fg.default"),(0,i.U2)("space.3"),e=>e.full?"1px 0px":"1px",e=>e.full?"0":(0,i.U2)("radii.2"),e=>e.full?"-1px":"0",(0,i.U2)("space.2"),c,s.Z),f=n().forwardRef(function({as:e,variant:o="default",...t},r){return n().createElement(u,d({ref:r,as:e,variant:o},t))});var p=f},8833:function(e,o,t){"use strict";t.d(o,{Z:function(){return c}});var r=t(7667),n=t.n(r),a=t(9521),l=t(5173);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let s=n().forwardRef((e,o)=>{let{icon:t,...r}=e;return n().createElement(t,i({},r,{ref:o}))}),d=(0,a.ZP)(s).withConfig({displayName:"Octicon",componentId:"sc-9kayk9-0"})(["",""],({color:e,sx:o})=>(0,l.Z)({sx:{color:e,...o}}));var c=d},4121:function(e,o,t){"use strict";t.d(o,{Z:function(){return u}});var r=t(7667),n=t.n(r),a=t(9521),l=t(5173);function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let s={small:"16px",medium:"32px",large:"64px"};function d({size:e="medium",...o}){let t=s[e];return n().createElement("svg",i({height:t,width:t,viewBox:"0 0 16 16",fill:"none"},o),n().createElement("circle",{cx:"8",cy:"8",r:"7",stroke:"currentColor",strokeOpacity:"0.25",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),n().createElement("path",{d:"M15 8a7.002 7.002 0 00-7-7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",vectorEffect:"non-scaling-stroke"}))}d.displayName="Spinner";let c=(0,a.ZP)(d).withConfig({displayName:"Spinner__StyledSpinner",componentId:"sc-1knt686-0"})(["@keyframes rotate-keyframes{100%{transform:rotate(360deg);}}animation:rotate-keyframes 1s linear infinite;",""],l.Z);c.displayName="Spinner";var u=c},731:function(e,o,t){"use strict";let r;t.d(o,{P:function(){return d}});var n=t(7667),a=t.n(n),l=t(8160);(0,t(4542).O)();let i=[];var s=t(6044);function d(e,o=[]){let t=(0,s.i)(null==e?void 0:e.containerRef),n=(0,s.i)(null==e?void 0:e.initialFocusRef),d=null==e?void 0:e.disabled,c=a().useRef(),u=a().useRef(null);function f(){var o;null===(o=c.current)||void 0===o||o.abort(),null!=e&&e.restoreFocusOnCleanUp&&u.current instanceof HTMLElement&&(u.current.focus(),u.current=null)}return u.current||null!=e&&e.disabled||(u.current=document.activeElement),a().useEffect(()=>{if(t.current instanceof HTMLElement){if(d)f();else{var e;return c.current=function e(o,t,n){let a;let s=new AbortController,d=null!=n?n:s.signal;o.setAttribute("data-focus-trap","active");let c=document.createElement("span");c.setAttribute("class","sentinel"),c.setAttribute("tabindex","0"),c.setAttribute("aria-hidden","true"),c.onfocus=()=>{let e=(0,l.O)(o,!0);null==e||e.focus()};let u=document.createElement("span");function f(e){if(e instanceof HTMLElement&&document.contains(o)){if(o.contains(e)){a=e;return}if(a&&(0,l.Wq)(a)&&o.contains(a)){a.focus();return}if(t&&o.contains(t)){t.focus();return}{let e=(0,l.O)(o);null==e||e.focus();return}}}u.setAttribute("class","sentinel"),u.setAttribute("tabindex","0"),u.setAttribute("aria-hidden","true"),u.onfocus=()=>{let e=(0,l.O)(o);null==e||e.focus()},o.prepend(c),o.append(u);let p=function(e){let o=new AbortController;return e.addEventListener("abort",()=>{o.abort()}),o}(d);if(r){let e=r;r.container.setAttribute("data-focus-trap","suspended"),r.controller.abort(),i.push(e)}p.signal.addEventListener("abort",()=>{r=void 0}),d.addEventListener("abort",()=>{o.removeAttribute("data-focus-trap");let t=o.getElementsByClassName("sentinel");for(;t.length>0;)t[0].remove();let r=i.findIndex(e=>e.container===o);r>=0&&i.splice(r,1),function(){let o=i.pop();o&&e(o.container,o.initialFocus,o.originalSignal)}()}),document.addEventListener("focus",e=>{f(e.target)},{signal:p.signal,capture:!0}),f(document.activeElement),r={container:o,controller:p,initialFocus:t,originalSignal:d};let b=i.findIndex(e=>e.container===o);if(b>=0&&i.splice(b,1),!n)return s}(t.current,null!==(e=n.current)&&void 0!==e?e:void 0),()=>{f()}}}},[t,n,d,...o]),{containerRef:t,initialFocusRef:n}}},4884:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/friends",function(){return t(328)}])},328:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return ea}});var r=t(5893),n=t(7667),a=t.n(n),l=t(5529),i=t(7205),s=t(1461),d=t(8833),c=t(3290),u=t(7011),f=t(9521),p=t(5390),b=t(731),g=t(5173),h=t(7840),m=t(4172),x=t(1905),v=t(1171),y=t(4543),w=t(6678),U=(0,f.iv)(["position:relative;display:inline-block;padding:6px 16px;font-family:inherit;font-weight:",";line-height:20px;white-space:nowrap;vertical-align:middle;cursor:pointer;user-select:none;border-radius:",";appearance:none;text-decoration:none;text-align:center;&:hover{text-decoration:none;}&:focus{outline:none;}&:disabled{cursor:default;}&:disabled svg{opacity:0.6;}"],(0,p.U2)("fontWeights.bold"),(0,p.U2)("radii.2"));let k=(0,w.variant)({variants:{small:{p:"4px 12px",fontSize:0},medium:{fontSize:1},large:{fontSize:2,p:"10px 20px"}}}),j=f.ZP.button.attrs(({disabled:e,onClick:o})=>({onClick:e?void 0:o})).withConfig({displayName:"ButtonBase",componentId:"sc-bqtwic-0"})([""," ",""],U,k);j.defaultProps={variant:"medium"};let Z=(0,f.ZP)(j).withConfig({displayName:"Button",componentId:"sc-ybpnzh-0"})(["color:",";background-color:",";border:1px solid ",";box-shadow:",",",";&:hover{background-color:",";border-color:",";}&:focus{outline:solid 2px ",";}&:active{background-color:",";box-shadow:",";}&:disabled{color:",";background-color:",";border-color:",";}",";"],(0,p.U2)("colors.btn.text"),(0,p.U2)("colors.btn.bg"),(0,p.U2)("colors.btn.border"),(0,p.U2)("shadows.btn.shadow"),(0,p.U2)("shadows.btn.insetShadow"),(0,p.U2)("colors.btn.hoverBg"),(0,p.U2)("colors.btn.hoverBorder"),(0,p.U2)("colors.accent.fg"),(0,p.U2)("colors.btn.selectedBg"),(0,p.U2)("shadows.btn.shadowActive"),(0,p.U2)("colors.primer.fg.disabled"),(0,p.U2)("colors.btn.bg"),(0,p.U2)("colors.btn.border"),g.Z);var C=t(5048),E=t(6044),B=t(2483);let _=(0,f.ZP)(j).withConfig({displayName:"ButtonPrimary",componentId:"sc-1awfvt4-0"})(["color:",";border:1px solid ",";background-color:",";box-shadow:",";&:hover{color:",";background-color:",";border-color:",";box-shadow:",";}&:focus{border-color:",";box-shadow:",";}&:active{background-color:",";box-shadow:",";}&:disabled{color:",";background-color:",";border-color:",";}",";"],(0,p.U2)("colors.btn.primary.text"),(0,p.U2)("colors.btn.primary.border"),(0,p.U2)("colors.btn.primary.bg"),(0,p.U2)("shadows.btn.primary.shadow"),(0,p.U2)("colors.btn.primary.hoverText"),(0,p.U2)("colors.btn.primary.hoverBg"),(0,p.U2)("colors.btn.primary.hoverBorder"),(0,p.U2)("shadows.btn.primary.hoverShadow"),(0,p.U2)("colors.btn.primary.focusBorder"),(0,p.U2)("shadows.btn.primary.focusShadow"),(0,p.U2)("colors.btn.primary.selectedBg"),(0,p.U2)("shadows.btn.primary.selectedShadow"),(0,p.U2)("colors.btn.primary.disabledText"),(0,p.U2)("colors.btn.primary.disabledBg"),(0,p.U2)("colors.btn.primary.disabledBorder"),g.Z),S=(0,f.ZP)(j).withConfig({displayName:"ButtonDanger",componentId:"sc-j9bmd7-0"})(["color:",";border:1px solid ",";background-color:",";box-shadow:",";&:hover{color:",";background-color:",";border-color:",";box-shadow:",";}&:focus{border-color:",";box-shadow:",";}&:active{color:",";background-color:",";box-shadow:",";border-color:",";}&:disabled{color:",";background-color:",";border-color:",";}",";"],(0,p.U2)("colors.btn.danger.text"),(0,p.U2)("colors.btn.border"),(0,p.U2)("colors.btn.bg"),(0,p.U2)("shadows.btn.shadow"),(0,p.U2)("colors.btn.danger.hoverText"),(0,p.U2)("colors.btn.danger.hoverBg"),(0,p.U2)("colors.btn.danger.hoverBorder"),(0,p.U2)("shadows.btn.danger.hoverShadow"),(0,p.U2)("colors.btn.danger.focusBorder"),(0,p.U2)("shadows.btn.danger.focusShadow"),(0,p.U2)("colors.btn.danger.selectedText"),(0,p.U2)("colors.btn.danger.selectedBg"),(0,p.U2)("shadows.btn.danger.selectedShadow"),(0,p.U2)("colors.btn.danger.selectedBorder"),(0,p.U2)("colors.btn.danger.disabledText"),(0,p.U2)("colors.btn.danger.disabledBg"),(0,p.U2)("colors.btn.danger.disabledBorder"),g.Z);function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let N="200ms",P=(0,f.ZP)("div").withConfig({displayName:"Dialog__Backdrop",componentId:"sc-uaxjsn-0"})(["position:fixed;top:0;left:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;background-color:",";animation:dialog-backdrop-appear "," ",";@keyframes dialog-backdrop-appear{0%{opacity:0;}100%{opacity:1;}}"],(0,p.U2)("colors.primer.canvas.backdrop"),N,(0,p.U2)("animation.easeOutCubic")),z={small:"480px",large:"640px",auto:"auto"},F={small:"296px",medium:"320px",large:"480px",xlarge:"640px"},I=f.ZP.div.withConfig({displayName:"Dialog__StyledDialog",componentId:"sc-uaxjsn-1"})(["display:flex;flex-direction:column;background-color:",";box-shadow:",";min-width:296px;max-width:calc(100vw - 64px);max-height:calc(100vh - 64px);width:",";height:",";border-radius:12px;opacity:1;animation:overlay--dialog-appear "," ",";@keyframes overlay--dialog-appear{0%{opacity:0;transform:scale(0.5);}100%{opacity:1;transform:scale(1);}}",";"],(0,p.U2)("colors.canvas.overlay"),(0,p.U2)("shadows.overlay.shadow"),e=>{var o;return F[null!==(o=e.width)&&void 0!==o?o:"xlarge"]},e=>{var o;return z[null!==(o=e.height)&&void 0!==o?o:"auto"]},N,(0,p.U2)("animation.easeOutCubic"),g.Z),D=({dialogLabelId:e,title:o,subtitle:t,dialogDescriptionId:r,onClose:l})=>{let i=(0,n.useCallback)(()=>{l("close-button")},[l]);return a().createElement(V.Header,null,a().createElement(B.Z,{display:"flex"},a().createElement(B.Z,{display:"flex",px:2,py:"6px",flexDirection:"column",flexGrow:1},a().createElement(V.Title,{id:e},null!=o?o:"Dialog"),t&&a().createElement(V.Subtitle,{id:r},t)),a().createElement(V.CloseButton,{onClose:i})))};D.displayName="DefaultHeader";let T=({children:e})=>a().createElement(V.Body,null,e);T.displayName="DefaultBody";let R=({footerButtons:e})=>{let{containerRef:o}=(0,h.v)({bindKeys:m.Qw.ArrowHorizontal|m.Qw.Tab,focusInStrategy:"closest"});return e?a().createElement(V.Footer,{ref:o},a().createElement(V.Buttons,{buttons:e})):null},A=a().forwardRef((e,o)=>{let{title:t="Dialog",subtitle:r="",renderHeader:l,renderBody:i,renderFooter:s,onClose:d,role:c="dialog",width:u="xlarge",height:f="auto",footerButtons:p=[],sx:g}=e,h=(0,y.M)(),m=(0,y.M)(),w=(0,n.useRef)(null);for(let e of p)e.autoFocus&&(e.ref=w);let U={...e,title:t,subtitle:r,role:c,dialogLabelId:h,dialogDescriptionId:m},k=(0,n.useRef)(null);(0,v.z)(o,k);let j=(0,n.useRef)(null);(0,b.P)({containerRef:k,restoreFocusOnCleanUp:!0,initialFocusRef:w}),(0,C.o)(e=>{d("escape"),e.preventDefault()},[d]),a().useEffect(()=>{let e=document.body.style.overflow||"";if("hidden"!==e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]);let Z=(null!=l?l:D)(U),E=(null!=i?i:T)(U),B=(null!=s?s:R)(U);return a().createElement(a().Fragment,null,a().createElement(x.h,null,a().createElement(P,{ref:j},a().createElement(I,{width:u,height:f,ref:k,role:c,"aria-labelledby":h,"aria-describedby":m,"aria-modal":!0,sx:g},Z,E,B))))});A.displayName="Dialog";let L=f.ZP.div.withConfig({displayName:"Dialog__Header",componentId:"sc-uaxjsn-2"})(["box-shadow:0 1px 0 ",";padding:",";z-index:1;flex-shrink:0;"],(0,p.U2)("colors.border.default"),(0,p.U2)("space.2")),H=f.ZP.h1.withConfig({displayName:"Dialog__Title",componentId:"sc-uaxjsn-3"})(["font-size:",";font-weight:",";margin:0;",";"],(0,p.U2)("fontSizes.1"),(0,p.U2)("fontWeights.bold"),g.Z),W=f.ZP.h2.withConfig({displayName:"Dialog__Subtitle",componentId:"sc-uaxjsn-4"})(["font-size:",";color:",";margin:0;margin-top:",";",";"],(0,p.U2)("fontSizes.0"),(0,p.U2)("colors.fg.muted"),(0,p.U2)("space.1"),g.Z),M=f.ZP.div.withConfig({displayName:"Dialog__Body",componentId:"sc-uaxjsn-5"})(["flex-grow:1;overflow:auto;padding:",";",";"],(0,p.U2)("space.3"),g.Z),q=f.ZP.div.withConfig({displayName:"Dialog__Footer",componentId:"sc-uaxjsn-6"})(["box-shadow:0 -1px 0 ",";padding:",";display:flex;flex-flow:wrap;justify-content:flex-end;z-index:1;flex-shrink:0;button{margin-left:",";&:first-child{margin-left:0;}}",";"],(0,p.U2)("colors.border.default"),(0,p.U2)("space.3"),(0,p.U2)("space.1"),g.Z),Y={normal:Z,primary:_,danger:S},G=(0,f.ZP)(Z).withConfig({displayName:"Dialog__DialogCloseButton",componentId:"sc-uaxjsn-7"})(["border-radius:4px;background:transparent;border:0;vertical-align:middle;color:",";padding:",";align-self:flex-start;line-height:normal;box-shadow:none;"],(0,p.U2)("colors.fg.muted"),(0,p.U2)("space.2")),Q=({onClose:e})=>a().createElement(G,{"aria-label":"Close",onClick:e},a().createElement(d.Z,{icon:l.b0D}));Q.displayName="CloseButton";let V=Object.assign(A,{Header:L,Title:H,Subtitle:W,Body:M,Footer:q,Buttons:({buttons:e})=>{var o;let t=(0,E.i)(null===(o=e.find(e=>e.autoFocus))||void 0===o?void 0:o.ref),r=0,[l,i]=(0,n.useState)(0);return(0,n.useEffect)(()=>{if(1===l){var e;null===(e=t.current)||void 0===e||e.focus()}else i(l+1)},[t,l]),a().createElement(a().Fragment,null,e.map((e,o)=>{let{content:n,buttonType:l="normal",autoFocus:i=!1,...s}=e,d=Y[l];return a().createElement(d,O({key:o},s,{variant:l,ref:i&&0===r?(r++,t):null}),n)}))},CloseButton:Q});var X=t(2962),K=t(9734),J=t(9902);let $=e=>{let{name:o,link:t,logo:n,slogan:a="",...l}=e;return(0,r.jsxs)(B.Z,{display:"flex",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,maxHeight:"64px",overflow:"hidden",...l,children:[(0,r.jsx)(B.Z,{flexBasis:"auto",flexShrink:0,flexGrow:0,height:"64px",width:"64px",overflow:"hidden",children:(0,r.jsx)("img",{loading:"lazy",decoding:"async",width:64,height:64,style:{objectFit:"cover"},src:new URL(n,"https://sb.cdn.baoshuo.ren/friends/img/").toString(),alt:o})}),(0,r.jsxs)(B.Z,{padding:2,overflow:"hidden",children:[(0,r.jsx)(c.Z,{href:t,target:"_blank",sx:{fontWeight:"bold"},children:o}),a&&(0,r.jsx)(J.Z,{as:"p",title:a,sx:{fontSize:1,marginTop:1,marginBottom:0,color:"fg.muted",width:"100%",maxWidth:"100%"},children:a})]})]})},ee=(0,n.memo)(e=>{let{friends:o}=e;return(0,r.jsx)(B.Z,{sx:{display:"grid",gap:3,gridTemplateColumns:[,,"1fr 1fr"]},children:o.map(e=>(0,r.jsx)($,{...e},e.name))})});var eo=t(9287),et=t(4121),er=(0,n.memo)(()=>(0,r.jsxs)(B.Z,{height:400,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{gap:2},children:[(0,r.jsx)(et.Z,{size:"large"}),(0,r.jsx)(u.Z,{as:"div",children:"Loading..."})]})),en=t(314),ea=(0,n.memo)(()=>{let[e,o]=(0,n.useState)(!1),t=(0,n.useRef)(null),{data:a,isLoading:f}=(0,K.ZP)("https://friends.baoshuo.ren/links.json"),p=(0,n.useCallback)(()=>o(!0),[o]),b=(0,n.useCallback)(()=>o(!1),[o]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.PB,{title:"Friends",description:"Friends of Baoshuo."}),(0,r.jsxs)(eo.VY,{title:"Friends",titleRef:t,magicTitle:!1,trailingAccessory:(0,r.jsx)(i.z,{leadingIcon:l.pOD,size:"small",onClick:p,children:"Add Your Site"}),children:[a?(0,r.jsx)(ee,{friends:a}):f?(0,r.jsx)(er,{}):(0,r.jsxs)(s.Z,{variant:"danger",children:[(0,r.jsx)(d.Z,{icon:l.b0D,size:18}),"Error when loading friend links, please"," ",(0,r.jsx)(c.Z,{as:"button",onClick:()=>window.location.reload(),children:"refresh"})," ","and try again."]}),e&&(0,r.jsxs)(V,{title:(0,r.jsx)(u.Z,{as:"span",sx:{fontSize:2,...en.Z.style},children:"Add your site to this page"}),onClose:b,children:[(0,r.jsxs)(u.Z,{as:"p",sx:{marginTop:0,marginBottom:2},children:["Before adding your site to this page, please read the requirements at"," ",(0,r.jsx)(c.Z,{href:"https://github.com/renbaoshuo/Friends",target:"_blank",children:"renbaoshuo/Friends"})," ","first."]}),(0,r.jsx)(u.Z,{as:"p",sx:{marginTop:0,marginBottom:3},children:"If your site meets every requirement, you can submit your site's info following the provided steps!"}),(0,r.jsx)(i.z,{as:c.Z,href:"https://github.com/renbaoshuo/Friends",target:"_blank",block:!0,leadingIcon:l.g_Y,children:"renbaoshuo/Friends"})]})]}),(0,r.jsx)(X.VL,{id:"https://baoshuo.ren/friends/",description:"Friends of Baoshuo."})]})})}},function(e){e.O(0,[966,774,888,179],function(){return e(e.s=4884)}),_N_E=e.O()}]);