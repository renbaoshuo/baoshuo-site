(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{4884:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/friends",function(){return i(9575)}])},9575:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return B}});var s=i(5893),r=i(7294),t=i(1296),o=i(1152),a=i(5478);let d=e=>{let{name:n,link:i,logo:r,slogan:d="",...l}=e;return(0,s.jsxs)(t.Z,{display:"flex",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,maxHeight:"64px",overflow:"hidden",...l,children:[(0,s.jsx)(t.Z,{flexBasis:"auto",flexShrink:0,flexGrow:0,height:"64px",width:"64px",overflow:"hidden",children:(0,s.jsx)("img",{loading:"lazy",decoding:"async",width:64,height:64,style:{objectFit:"cover"},src:new URL(r,"https://sb.cdn.baoshuo.ren/friends/img/").toString(),alt:n})}),(0,s.jsxs)(t.Z,{padding:2,overflow:"hidden",children:[(0,s.jsx)(o.Z,{href:i,target:"_blank",sx:{fontWeight:"bold"},children:n}),d&&(0,s.jsx)(a.Z,{as:"p",title:d,sx:{fontSize:1,marginTop:1,marginBottom:0,color:"fg.muted",width:"100%",maxWidth:"100%"},children:d})]})]})};var l=(0,r.memo)(d),h=i(9338),c=i(3625);let u=()=>(0,s.jsxs)(t.Z,{height:400,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",sx:{gap:2},children:[(0,s.jsx)(h.Z,{size:"large"}),(0,s.jsx)(c.Z,{as:"div",children:"Loading..."})]});var x=(0,r.memo)(u),f=i(5529),g=i(817),p=i(2646),j=i(2244),m=i(1233),b=i(1067),w=i(9156),y=i(2962),Z=i(5800),k=i(6304);let _=e=>fetch("https://friends.baoshuo.ren/links.json").then(e=>e.json()),v=()=>{let{result:e}=(0,k.ib)(_);return(0,s.jsx)(t.Z,{display:"grid",gridGap:3,sx:{gridTemplateColumns:[,,"1fr 1fr"]},children:e.map(e=>(0,s.jsx)(l,{...e},e.name))})},C=()=>{let[e,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),d=r.useCallback(()=>n(!0),[n]),l=r.useCallback(()=>n(!1),[n]);return(0,r.useEffect)(()=>{a(!0)},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.PB,{title:"Friends",description:"Friends of Baoshuo."}),(0,s.jsxs)(g.X.Content,{padding:"none",children:[(0,s.jsxs)(t.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,s.jsx)(p.Z,{as:"h1",sx:{marginBottom:3},children:"Friends"}),(0,s.jsx)(j.z,{leadingIcon:f.pOD,size:"small",onClick:d,children:"Add Your Site"})]}),i?(0,s.jsx)(k.c6,{initialInputs:[[_,""]],children:(0,s.jsx)(Z.ErrorBoundary,{fallback:(0,s.jsxs)(m.Z,{variant:"danger",children:[(0,s.jsx)(b.Z,{icon:f.b0D,size:18}),"Error when loading friend links, please"," ",(0,s.jsx)(o.Z,{as:"button",onClick:()=>window.location.reload(),children:"refresh"})," ","and try again."]}),children:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)(x,{}),children:(0,s.jsx)(v,{})})})}):(0,s.jsx)(x,{})]}),e&&(0,s.jsxs)(w.V,{title:"Add your site to this page",onClose:l,children:[(0,s.jsxs)(c.Z,{as:"p",marginTop:0,marginBottom:2,children:["Before adding your site to this page, please read the requirements at"," ",(0,s.jsx)(o.Z,{href:"https://github.com/renbaoshuo/Friends",target:"_blank",children:"renbaoshuo/Friends"})," ","first."]}),(0,s.jsx)(c.Z,{as:"p",marginTop:0,marginBottom:3,children:"If your site meets every requirement, you can submit your site's info following the provided steps!"}),(0,s.jsx)(j.z,{as:o.Z,href:"https://github.com/renbaoshuo/Friends",target:"_blank",sx:{display:"block",":hover":{textDecoration:"none"}},leadingIcon:f.g_Y,children:"renbaoshuo/Friends"})]})]})};var B=C}},function(e){e.O(0,[157,774,888,179],function(){return e(e.s=4884)}),_N_E=e.O()}]);