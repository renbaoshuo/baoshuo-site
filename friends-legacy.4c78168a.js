System.register(["./vendor-legacy.f97d3d3f.js","./index-legacy.866b25a7.js"],(function(e,n){"use strict";var t,r,i,o,a,l,s,u,c,d,f,p,h,b,w,m,v,g;return{setters:[e=>{t=e.a,r=e.j,i=e.B,o=e.L,a=e.o,l=e.F,s=e.H,u=e.f,c=e.h,d=e.i,f=e.p,p=e.q,h=e.k,b=e.X,w=e.D,m=e.T,v=e.n},e=>{g=e.L}],execute:function(){function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},n(e,t)}const y=window.React;var k={error:null},R=function(e){var r,i;function o(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this).state=k,n.resetErrorBoundary=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];null==n.props.onReset||(e=n.props).onReset.apply(e,r),n.reset()},n}i=e,(r=o).prototype=Object.create(i.prototype),r.prototype.constructor=r,n(r,i),o.getDerivedStateFromError=function(e){return{error:e}};var a=o.prototype;return a.reset=function(){this.setState(k)},a.componentDidCatch=function(e,n){var t,r;null==(t=(r=this.props).onError)||t.call(r,e,n)},a.componentDidUpdate=function(e,n){var t,r,i=this.state.error,o=this.props.resetKeys;null!==i&&null!==n.error&&function(e,n){return void 0===e&&(e=[]),void 0===n&&(n=[]),e.length!==n.length||e.some((function(e,t){return!Object.is(e,n[t])}))}(e.resetKeys,o)&&(null==(t=(r=this.props).onResetKeysChange)||t.call(r,e.resetKeys,o),this.reset())},a.render=function(){var e=this.state.error,n=this.props,r=n.fallbackRender,i=n.FallbackComponent,o=n.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(y.isValidElement(o))return o;if("function"==typeof r)return r(a);if(i)return t(i,{...a});throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},o}(y.Component),_={exports:{}},x={};
/**
       * @license React
       * scheduler.production.min.js
       *
       * Copyright (c) Facebook, Inc. and its affiliates.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */
!function(e){function n(e,n){var t=e.length;e.push(n);e:for(;0<t;){var r=t-1>>>1,o=e[r];if(!(0<i(o,n)))break e;e[r]=n,e[t]=o,t=r}}function t(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var n=e[0],t=e.pop();if(t!==n){e[0]=t;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>i(s,t))u<o&&0>i(c,s)?(e[r]=c,e[u]=t,r=u):(e[r]=s,e[l]=t,r=l);else{if(!(u<o&&0>i(c,t)))break e;e[r]=c,e[u]=t,r=u}}}return n}function i(e,n){var t=e.sortIndex-n.sortIndex;return 0!==t?t:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var s=[],u=[],c=1,d=null,f=3,p=!1,h=!1,b=!1,w="function"==typeof setTimeout?setTimeout:null,m="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function g(e){for(var i=t(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,n(s,i)}i=t(u)}}function y(e){if(b=!1,g(e),!h)if(null!==t(s))h=!0,T(k);else{var n=t(u);null!==n&&F(y,n.startTime-e)}}function k(n,i){h=!1,b&&(b=!1,m(P),P=-1),p=!0;var o=f;try{for(g(i),d=t(s);null!==d&&(!(d.expirationTime>i)||n&&!C());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var l=a(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof l?d.callback=l:d===t(s)&&r(s),g(i)}else r(s);d=t(s)}if(null!==d)var c=!0;else{var w=t(u);null!==w&&F(y,w.startTime-i),c=!1}return c}finally{d=null,f=o,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var R,_=!1,x=null,P=-1,E=5,I=-1;function C(){return!(e.unstable_now()-I<E)}function O(){if(null!==x){var n=e.unstable_now();I=n;var t=!0;try{t=x(!0,n)}finally{t?R():(_=!1,x=null)}}else _=!1}if("function"==typeof v)R=function(){v(O)};else if("undefined"!=typeof MessageChannel){var S=new MessageChannel,j=S.port2;S.port1.onmessage=O,R=function(){j.postMessage(null)}}else R=function(){w(O,0)};function T(e){x=e,_||(_=!0,R())}function F(n,t){P=w((function(){n(e.unstable_now())}),t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){h||p||(h=!0,T(k))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return t(s)},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var t=f;f=n;try{return e()}finally{f=t}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var t=f;f=e;try{return n()}finally{f=t}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(r.sortIndex=o,n(u,r),null===t(s)&&r===t(u)&&(b?(m(P),P=-1):b=!0,F(y,o-a))):(r.sortIndex=l,n(s,r),h||p||(h=!0,T(k))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var n=f;return function(){var t=f;f=n;try{return e.apply(this,arguments)}finally{f=t}}}}(x),function(e){e.exports=x}(_);const P=window.React.createContext,E=window.React.useContext,I=window.React.useReducer,C=window.React.createElement,O=window.React.useEffect,S=window.React.useLayoutEffect,j=window.React.useRef,T=window.React.useState,F=window.ReactDOM.unstable_batchedUpdates,D=Symbol(),B=Symbol(),L="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?O:S,M=_.exports.unstable_runWithPriority?e=>_.exports.unstable_runWithPriority(_.exports.unstable_NormalPriority,e):e=>e();function N(e,n){const t=E(e)[D],{v:{current:r},n:{current:i},l:o}=t,a=n(r),[l,s]=I(((e,t)=>{if(!t)return[r,a];if("p"in t)throw t.p;if(t.n===i)return Object.is(e[1],a)?e:[r,a];try{if("v"in t){if(Object.is(e[0],t.v))return e;const r=n(t.v);return Object.is(e[1],r)?e:[t.v,r]}}catch(e){}return[...e]}),[r,a]);return Object.is(l[1],a)||s(),L((()=>(o.add(s),()=>{o.delete(s)})),[o]),l[1]}const W=window.React.createElement,q=window.React.useState,A=window.React.useCallback,U=(e,n)=>{const t={input:n};return t.promise=new Promise(((r,i)=>{e(n).then((e=>{t.result=e,r()})).catch((e=>{t.error=e,i(e)})).finally((()=>{delete t.promise}))})),t},V=function(e){const n=P({[D]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});var t;return n[B]=n.Provider,n.Provider=(t=n.Provider,({value:e,children:n})=>{const r=j(e),i=j(0),[o,a]=T(null);o&&(o(e),a(null));const l=j();if(!l.current){const e=new Set,n=(n,t)=>{F((()=>{i.current+=1;const r={n:i.current};null!=t&&t.suspense&&(r.n*=-1,r.p=new Promise((e=>{a((()=>n=>{r.v=n,delete r.p,e(n)}))}))),e.forEach((e=>e(r))),n()}))};l.current={[D]:{v:r,n:i,l:e,u:n}}}return L((()=>{r.current=e,i.current+=1,M((()=>{l.current[D].l.forEach((n=>{n({n:i.current,v:e})}))}))}),[e]),C(t,{value:l.current},n)}),delete n.Consumer,n}(null),z=({initialInputs:e,children:n})=>W(V.Provider,{value:q((()=>{const n=new Map;if(e)for(const[t,r]of e)n.set(t,U(t,r));return n}))},n);function K(e){const n=(e=>{const n=function(e){const n=E(e)[D],{u:t}=n;return t}(V),t=N(V,(e=>e?e[1]:"NO_PROVIDER"));if("NO_PROVIDER"===t)throw new Error("missing Provider");return A((r=>{n((()=>{t((n=>new Map(n).set(e,r)))}),{suspense:!0})}),[n,t,e])})(e);return A((t=>{n(U(e,t))}),[n,e])}const H=(0,window.React.memo)((({name:e,link:n,logo:l,slogan:s="",...u})=>r(i,{display:"flex",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2,maxHeight:"64px",overflow:"hidden",...u,children:[t(i,{flexBasis:"auto",flexShrink:0,flexGrow:0,height:"64px",width:"64px",overflow:"hidden",children:t("img",{loading:"lazy",decoding:"async",width:64,height:64,style:{objectFit:"cover"},src:new URL(l,"https://sb.cdn.baoshuo.ren/friends/img/").toString()})}),r(i,{padding:2,overflow:"hidden",children:[t(o,{href:n,target:"_blank",sx:{fontWeight:"bold"},children:e}),s&&t(a,{as:"p",title:s,sx:{fontSize:1,marginTop:1,marginBottom:0,color:"fg.muted",width:"100%",maxWidth:"100%"},children:s})]})]}))),G=window.React.memo,Y=window.React.Suspense,X=window.React.useRef,J=window.React.useState,Q=e=>fetch("https://friends.baoshuo.ren/links.json").then((e=>e.json())),Z=()=>{const{result:e}=function(e,n){let t=(e=>{const n=N(V,(n=>n?n[0].get(e):"NO_PROVIDER"));if("NO_PROVIDER"===n)throw new Error("missing Provider");return n})(e);if(!t&&null!=n&&n.allowUndefined&&(t={input:void 0}),!t)throw new Error("missing initial input");if("promise"in t)throw t.promise;if("error"in t)throw t.error;return{input:t.input,result:t.result,refetch:K(e)}}(Q);return t(i,{display:"grid",gridTemplateColumns:[,,"1fr 1fr"],gridGap:3,children:e.map((e=>t(H,{...e},e.name)))})};e("default",G((()=>{const[e,n]=J(!1),a=X(null);return r(l,{children:[t(s,{children:t("title",{children:"Friends"})}),r(u.Content,{padding:"none",children:[r(i,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[t(c,{as:"h1",sx:{marginBottom:3},children:"Friends"}),t(d,{leadingIcon:f,size:"small",ref:a,onClick:()=>n(!0),children:"Add Your Site"})]}),t(z,{initialInputs:[[Q,""]],children:t(R,{fallback:r(p,{variant:"danger",children:[t(h,{icon:b,size:18}),"Error when loading friend links, please"," ",t(o,{as:"button",onClick:()=>window.location.reload(),children:"refresh"})," ","and try again."]}),children:t(Y,{fallback:t(g,{}),children:t(Z,{})})})})]}),e&&r(w,{returnFocusRef:a,isOpen:e,onDismiss:()=>n(!1),"aria-labelledby":"header-id",children:[t(w.Header,{children:"Add your site to this page"}),r(i,{p:3,children:[r(m,{as:"p",marginTop:0,marginBottom:2,children:["Before adding your site to this page, please read the requirements at"," ",t(o,{href:"https://github.com/renbaoshuo/Friends",target:"_blank",children:"renbaoshuo/Friends"})," ","first."]}),t(m,{as:"p",marginTop:0,marginBottom:3,children:"If your site meets every requirement, you can submit your site's info following the provided steps!"}),t(d,{as:o,href:"https://github.com/renbaoshuo/Friends",target:"_blank",sx:{display:"block",":hover":{textDecoration:"none"}},leadingIcon:v,children:"renbaoshuo/Friends"})]})]})]})})))}}}));
